(()=>{"use strict";const t=window.wp.element,e=window.lodash,o=window.wp.blockEditor,s=window.wp.blocks,n=window.wp.coreData,r=window.wp.data,a=(window.wp.i18n,JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"ensemble/post-format-template","title":"Gabarit des formats d’article","category":"theme","icon":"layout","description":"Vérifie si le format est à appliquer","textdomain":"ensemble","attributes":{"format":{"type":"string","default":"standard"}},"usesContext":["postId","postType"],"supports":{"align":["left","right","center","wide","full"],"html":false,"spacing":{"margin":true,"padding":true}}}'));function i(e){let{template:s}=e;const n=(0,o.useInnerBlocksProps)({className:"wp-block-post-format"},{template:s,__unstableDisableLayoutClassNames:!0});return(0,t.createElement)("div",n)}(0,s.registerBlockType)(a,{edit:s=>{let{attributes:a,context:l}=s;const p=(0,o.useBlockProps)(),{format:c}=a,{postId:d}=l,{postFormats:m,isLoading:u}=(0,r.useSelect)((t=>{const{getEntityRecords:e,isResolving:o}=t(n.store),s=["taxonomy","post_format",{post:d,per_page:-1,context:"view"}];return{postFormats:e(...s),isLoading:o("getEntityRecords",s)}}),[d]);if("standard"!==c&&m&&m.length){const o="post-format-"+c;if(!1===u&&(0,e.find)(m,["slug",o])){const e=[["core/post-content"]];return(0,t.createElement)("div",p,(0,t.createElement)(i,{template:e}))}return null}if("standard"===c&&m&&!m.length){const e=[["core/post-title"],["core/post-date"],["core/post-excerpt"]];return(0,t.createElement)("div",p,(0,t.createElement)(i,{template:e}))}return null}})})();